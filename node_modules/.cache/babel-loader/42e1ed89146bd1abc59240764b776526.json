{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport IconCalendar from '@rsuite/icons/legacy/Calendar';\nimport isUndefined from 'lodash/isUndefined';\nimport omit from 'lodash/omit';\nimport partial from 'lodash/partial';\nimport pick from 'lodash/pick';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { FormattedDate } from '../CustomProvider';\nimport Toolbar from '../DatePicker/Toolbar';\nimport { omitTriggerPropKeys, PickerOverlay, pickerPropTypes, PickerToggle, PickerToggleTrigger, pickTriggerPropKeys, usePickerClassName, usePublicMethods, useToggleKeyDownEvent } from '../Picker';\nimport { createChainedFunction, DATERANGE_DISABLED_TARGET, DateUtils, mergeRefs, useClassNames, useControlled, useCustom } from '../utils';\nimport { addMonths, compareAsc, isSameMonth } from '../utils/dateUtils';\nimport Calendar from './Calendar';\nimport * as disabledDateUtils from './disabledDateUtils';\nimport { getCalendarDate, getMonthHoverRange, getWeekHoverRange, isSameRange, setTimingMargin } from './utils';\nvar DateRangePicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _ref, _merge;\n\n  var _props$as = props.as,\n      Component = _props$as === void 0 ? 'div' : _props$as,\n      _props$classPrefix = props.classPrefix,\n      classPrefix = _props$classPrefix === void 0 ? 'picker' : _props$classPrefix,\n      className = props.className,\n      _props$appearance = props.appearance,\n      appearance = _props$appearance === void 0 ? 'default' : _props$appearance,\n      _props$cleanable = props.cleanable,\n      cleanable = _props$cleanable === void 0 ? true : _props$cleanable,\n      _props$character = props.character,\n      character = _props$character === void 0 ? ' ~ ' : _props$character,\n      defaultCalendarValue = props.defaultCalendarValue,\n      defaultValue = props.defaultValue,\n      disabled = props.disabled,\n      disabledDateProp = props.disabledDate,\n      _props$format = props.format,\n      formatStr = _props$format === void 0 ? 'yyyy-MM-dd' : _props$format,\n      hoverRange = props.hoverRange,\n      isoWeek = props.isoWeek,\n      _props$limitEndYear = props.limitEndYear,\n      limitEndYear = _props$limitEndYear === void 0 ? 1000 : _props$limitEndYear,\n      overrideLocale = props.locale,\n      menuClassName = props.menuClassName,\n      menuStyle = props.menuStyle,\n      oneTap = props.oneTap,\n      _props$placeholder = props.placeholder,\n      placeholder = _props$placeholder === void 0 ? '' : _props$placeholder,\n      _props$placement = props.placement,\n      placement = _props$placement === void 0 ? 'bottomStart' : _props$placement,\n      ranges = props.ranges,\n      renderValue = props.renderValue,\n      _props$showOneCalenda = props.showOneCalendar,\n      showOneCalendar = _props$showOneCalenda === void 0 ? false : _props$showOneCalenda,\n      showWeekNumbers = props.showWeekNumbers,\n      showMeridian = props.showMeridian,\n      style = props.style,\n      toggleAs = props.toggleAs,\n      valueProp = props.value,\n      onChange = props.onChange,\n      onClean = props.onClean,\n      onClose = props.onClose,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onExited = props.onExited,\n      onOk = props.onOk,\n      onOpen = props.onOpen,\n      onSelect = props.onSelect,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"classPrefix\", \"className\", \"appearance\", \"cleanable\", \"character\", \"defaultCalendarValue\", \"defaultValue\", \"disabled\", \"disabledDate\", \"format\", \"hoverRange\", \"isoWeek\", \"limitEndYear\", \"locale\", \"menuClassName\", \"menuStyle\", \"oneTap\", \"placeholder\", \"placement\", \"ranges\", \"renderValue\", \"showOneCalendar\", \"showWeekNumbers\", \"showMeridian\", \"style\", \"toggleAs\", \"value\", \"onChange\", \"onClean\", \"onClose\", \"onEnter\", \"onEntered\", \"onExited\", \"onOk\", \"onOpen\", \"onSelect\"]);\n\n  var _useClassNames = useClassNames(classPrefix),\n      merge = _useClassNames.merge,\n      prefix = _useClassNames.prefix;\n\n  var _useCustom = useCustom('DateRangePicker', overrideLocale),\n      locale = _useCustom.locale,\n      formatDate = _useCustom.formatDate,\n      parseDate = _useCustom.parseDate;\n\n  var rangeFormatStr = \"\" + formatStr + character + formatStr;\n\n  var _useControlled = useControlled(valueProp, defaultValue !== null && defaultValue !== void 0 ? defaultValue : []),\n      value = _useControlled[0],\n      setValue = _useControlled[1];\n  /**\n   * Whether to complete the selection.\n   * Everytime selection will change this value. If the value is false, it means that the selection has not been completed.\n   *\n   * In `oneTap` mode, select action will not change this value, its value should be true always.\n   */\n\n\n  var hasDoneSelect = useRef(true);\n  /**\n   * The currently selected date range.\n   *\n   * The time range is selected by two clicks. After the first click,\n   * the cursor will store a temporary event date in the process until\n   * the second click to determine the end date of the date range.\n   *\n   */\n\n  var _useState = useState((_ref = valueProp !== null && valueProp !== void 0 ? valueProp : defaultValue) !== null && _ref !== void 0 ? _ref : []),\n      selectValue = _useState[0],\n      setSelectValue = _useState[1]; // The date of the current hover, used to reduce the calculation of `handleMouseMove`\n\n\n  var _useState2 = useState([]),\n      hoverValue = _useState2[0],\n      setHoverValue = _useState2[1]; // The displayed calendar panel is rendered based on this value.\n\n\n  var _useState3 = useState(getCalendarDate({\n    value: valueProp !== null && valueProp !== void 0 ? valueProp : defaultCalendarValue\n  })),\n      calendarDate = _useState3[0],\n      setCalendarDate = _useState3[1];\n\n  var _useState4 = useState(),\n      inputState = _useState4[0],\n      setInputState = _useState4[1];\n  /**\n   * When hoverRange is set, `selectValue` will be updated during the hover process,\n   * which will cause the `selectValue` to be updated after the first click,\n   * so declare a Ref to temporarily store the `selectValue` of the first click.\n   */\n\n\n  var selectRangeValueRef = useRef(null);\n  /**\n   * Call this function to update the calendar panel rendering benchmark value.\n   * If params `value` is not passed, it defaults to [new Date(), addMonth(new Date(), 1)].\n   */\n\n  var updateCalendarDate = useCallback(function (value) {\n    setCalendarDate(getCalendarDate({\n      value: value\n    }));\n  }, []); // if valueProp changed then update selectValue/hoverValue\n\n  useEffect(function () {\n    setSelectValue(valueProp !== null && valueProp !== void 0 ? valueProp : []);\n    setHoverValue(valueProp !== null && valueProp !== void 0 ? valueProp : []);\n  }, [valueProp]);\n\n  var _useState5 = useState(false),\n      isPickerToggleActive = _useState5[0],\n      setPickerToggleActive = _useState5[1];\n\n  var rootRef = useRef();\n  var overlayRef = useRef();\n  var targetRef = useRef();\n  var triggerRef = useRef();\n  var handleCloseDropdown = useCallback(function () {\n    var _triggerRef$current, _triggerRef$current$c;\n\n    (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : (_triggerRef$current$c = _triggerRef$current.close) === null || _triggerRef$current$c === void 0 ? void 0 : _triggerRef$current$c.call(_triggerRef$current);\n  }, []);\n  usePublicMethods(ref, {\n    triggerRef: triggerRef,\n    overlayRef: overlayRef,\n    targetRef: targetRef,\n    rootRef: rootRef\n  });\n  var getDisplayString = useCallback(function (nextValue, isPlaintext) {\n    var _nextValue, _nextValue2;\n\n    if (nextValue === void 0) {\n      nextValue = value;\n    }\n\n    var startDate = (_nextValue = nextValue) === null || _nextValue === void 0 ? void 0 : _nextValue[0];\n    var endDate = (_nextValue2 = nextValue) === null || _nextValue2 === void 0 ? void 0 : _nextValue2[1];\n\n    if (startDate && endDate) {\n      var displayValue = [startDate, endDate].sort(compareAsc);\n\n      if (isPlaintext) {\n        return formatDate(displayValue[0], formatStr) + character + formatDate(displayValue[1], formatStr);\n      }\n\n      return renderValue ? renderValue(displayValue, formatStr) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormattedDate, {\n        date: displayValue[0],\n        formatStr: formatStr\n      }), character, /*#__PURE__*/React.createElement(FormattedDate, {\n        date: displayValue[1],\n        formatStr: formatStr\n      }));\n    }\n\n    return isPlaintext ? '' : placeholder || rangeFormatStr;\n  }, [character, formatDate, formatStr, placeholder, rangeFormatStr, renderValue, value]);\n  /**\n   * preset hover range\n   */\n\n  var getHoverRangeValue = useCallback(function (date) {\n    if (!hoverRange) {\n      return [];\n    }\n\n    var hoverRangeFunc = hoverRange;\n\n    if (hoverRange === 'week') {\n      hoverRangeFunc = partial(getWeekHoverRange, isoWeek);\n    }\n\n    if (hoverRangeFunc === 'month') {\n      hoverRangeFunc = getMonthHoverRange;\n    }\n\n    if (typeof hoverRangeFunc !== 'function') {\n      return [];\n    }\n\n    var hoverValues = hoverRangeFunc(date);\n    var isHoverRangeValid = hoverValues instanceof Array && hoverValues.length === 2;\n\n    if (!isHoverRangeValid) {\n      return [];\n    }\n\n    if (DateUtils.isAfter(hoverValues[0], hoverValues[1])) {\n      hoverValues.reverse();\n    }\n\n    return hoverValues;\n  }, [hoverRange, isoWeek]);\n  var handleValueUpdate = useCallback(function (event, nextSelectValue, closeOverlay) {\n    if (closeOverlay === void 0) {\n      closeOverlay = true;\n    }\n\n    var nextValue = !isUndefined(nextSelectValue) ? nextSelectValue : selectValue;\n    setSelectValue(nextValue || []);\n\n    if (!isSameRange(nextValue, value, formatStr)) {\n      setValue(nextValue);\n      onChange === null || onChange === void 0 ? void 0 : onChange(nextValue, event);\n    } // `closeOverlay` default value is `true`\n\n\n    if (closeOverlay !== false) {\n      handleCloseDropdown();\n    }\n  }, [formatStr, handleCloseDropdown, onChange, selectValue, setValue, value]);\n  /**\n   * Select the date range. If oneTap is not set, you need to click twice to select the start time and end time.\n   * The MouseMove event is called between the first click and the second click to update the selection state.\n   */\n\n  var handleMouseMove = useCallback(function (date) {\n    var hoverRangeValue = getHoverRangeValue(date); // After the first click\n\n    if (!hasDoneSelect.current) {\n      // If hoverRange is set, you need to change the value of hoverValue according to the rules\n      if (hoverRange) {\n        var nextHoverValue = [selectRangeValueRef.current[0], hoverRangeValue[1]];\n\n        if (DateUtils.isBefore(hoverRangeValue[0], selectRangeValueRef.current[0])) {\n          nextHoverValue[0] = hoverRangeValue[0];\n          nextHoverValue[1] = selectRangeValueRef.current[1];\n        }\n\n        setSelectValue(nextHoverValue);\n      } else {\n        setHoverValue(function (prevHoverValue) {\n          return [prevHoverValue[0], date];\n        });\n      } // Before the first click, if hoverRangeValue has a value, hoverValue needs to be updated\n\n    } else if (hoverRange && hoverRangeValue.length) {\n      setHoverValue(hoverRangeValue);\n    }\n  }, [getHoverRangeValue, hoverRange]);\n  var handleSelectValueChange = useCallback(function (date, event) {\n    var nextSelectValue = Array.from(hoverValue);\n    var hoverRangeValue = getHoverRangeValue(date);\n    var noHoverRangeValid = hoverRangeValue.length !== 2; // in `oneTap` mode\n\n    if (hasDoneSelect.current && oneTap) {\n      handleValueUpdate(event, noHoverRangeValid ? [setTimingMargin(date), setTimingMargin(date, 'right')] : hoverRangeValue);\n      hasDoneSelect.current = false;\n      return;\n    } // no preset hover range can use\n\n\n    if (noHoverRangeValid) {\n      // start select\n      if (hasDoneSelect.current) {\n        nextSelectValue = [date];\n      } else {\n        // finish select\n        nextSelectValue[1] = date;\n      }\n    } else {\n      if (!hasDoneSelect.current) {\n        nextSelectValue = selectValue;\n        selectRangeValueRef.current = null;\n      } else {\n        nextSelectValue = hoverRangeValue;\n        selectRangeValueRef.current = hoverRangeValue;\n      }\n    } // If user have completed the selection, then sort\n\n\n    if (nextSelectValue.length === 2 && DateUtils.isAfter(nextSelectValue[0], nextSelectValue[1])) {\n      nextSelectValue.reverse();\n    }\n\n    setHoverValue(nextSelectValue);\n    setSelectValue(nextSelectValue);\n    updateCalendarDate(nextSelectValue);\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(date, event);\n    hasDoneSelect.current = !hasDoneSelect.current;\n  }, [getHoverRangeValue, handleValueUpdate, hoverValue, onSelect, oneTap, selectValue, updateCalendarDate]);\n  /**\n   * If `selectValue` changed, there will be the following effects.\n   * 1. Check if the selection is completed.\n   * 2. if the selection is completed, set the temporary `hoverValue` empty.\n   */\n\n  useEffect(function () {\n    var _selectValue$length;\n\n    var selectValueLength = (_selectValue$length = selectValue === null || selectValue === void 0 ? void 0 : selectValue.length) !== null && _selectValue$length !== void 0 ? _selectValue$length : 0;\n    var doneSelected = selectValueLength === 0 || selectValueLength === 2;\n    doneSelected && setHoverValue([]);\n  }, [selectValue]);\n  var handleChangeCalendarDate = useCallback(function (index, date) {\n    var nextCalendarDate = Array.from(calendarDate);\n    nextCalendarDate[index] = date;\n    updateCalendarDate(nextCalendarDate);\n  }, [calendarDate, updateCalendarDate]);\n  var handleChangeCalendarTime = useCallback(function (index, date) {\n    setSelectValue(function (prev) {\n      var next = [].concat(prev);\n      var clonedDate = new Date(date.valueOf()); // if next[index] is not empty, only update the time after aligning the year, month and day\n\n      if (next[index]) {\n        clonedDate.setFullYear(next[index].getFullYear(), next[index].getMonth(), next[index].getDate());\n      }\n\n      next[index] = clonedDate;\n      return next;\n    });\n    handleChangeCalendarDate(index, date);\n  }, [handleChangeCalendarDate]);\n  /**\n   * The callback triggered when PM/AM is switched.\n   */\n\n  var handleToggleMeridian = useCallback(function (index) {\n    var next = Array.from(calendarDate);\n    var clonedDate = new Date(next[index].valueOf());\n    var hours = DateUtils.getHours(clonedDate);\n    var nextHours = hours >= 12 ? hours - 12 : hours + 12;\n    next[index] = DateUtils.setHours(clonedDate, nextHours);\n    setCalendarDate(next); // If the value already exists, update the value again.\n\n    if (selectValue.length === 2) {\n      setSelectValue(next);\n    }\n  }, [calendarDate, selectValue]);\n  /**\n   * Toolbar operation callback function\n   */\n\n  var handleShortcutPageDate = useCallback(function (value, closeOverlay, event) {\n    handleValueUpdate(event, value, closeOverlay);\n  }, [handleValueUpdate]);\n  var handleOK = useCallback(function (event) {\n    handleValueUpdate(event);\n    onOk === null || onOk === void 0 ? void 0 : onOk(selectValue, event);\n  }, [handleValueUpdate, onOk, selectValue]);\n  var handleClean = useCallback(function (event) {\n    updateCalendarDate();\n    handleValueUpdate(event, []);\n  }, [handleValueUpdate, updateCalendarDate]);\n  /**\n   * Callback after the input box value is changed.\n   */\n\n  var handleInputChange = useCallback(function (value) {\n    setInputState('Typing');\n    var rangeValue = value.split(character); // isMatch('01/11/2020', 'MM/dd/yyyy') ==> true\n    // isMatch('2020-11-01', 'MM/dd/yyyy') ==> false\n\n    if (!DateUtils.isMatch(rangeValue[0], formatStr, {\n      locale: locale.dateLocale\n    }) || !DateUtils.isMatch(rangeValue[1], formatStr, {\n      locale: locale.dateLocale\n    })) {\n      setInputState('Error');\n      return;\n    }\n\n    var startDate = parseDate(rangeValue[0], formatStr);\n    var endDate = parseDate(rangeValue[1], formatStr);\n    var selectValue = [startDate, endDate];\n\n    if (!DateUtils.isValid(startDate) || !DateUtils.isValid(endDate)) {\n      setInputState('Error');\n      return;\n    }\n\n    if (disabledDate(startDate, selectValue, true, DATERANGE_DISABLED_TARGET.CALENDAR)) {\n      setInputState('Error');\n      return;\n    }\n\n    setHoverValue(selectValue);\n    setSelectValue(selectValue);\n    updateCalendarDate(selectValue);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [character, rangeFormatStr, updateCalendarDate]);\n  /**\n   * The callback after the enter key is triggered on the input\n   */\n\n  var handleInputPressEnd = useCallback(function (event) {\n    if (inputState === 'Typing') {\n      handleValueUpdate(event, selectValue);\n    }\n\n    setInputState('Initial');\n  }, [handleValueUpdate, selectValue, inputState]);\n  var handleEnter = useCallback(function () {\n    var nextCalendarDate;\n\n    if (value && value.length) {\n      var _startDate = value[0],\n          endData = value[1];\n      nextCalendarDate = [_startDate, isSameMonth(_startDate, endData) ? addMonths(endData, 1) : endData];\n    } else {\n      nextCalendarDate = getCalendarDate({\n        value: defaultCalendarValue\n      });\n    }\n\n    setSelectValue(value);\n    updateCalendarDate(nextCalendarDate);\n  }, [defaultCalendarValue, updateCalendarDate, setSelectValue, value]);\n  var handleEntered = useCallback(function () {\n    onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n    setPickerToggleActive(true);\n  }, [onOpen]);\n  var handleExited = useCallback(function () {\n    setPickerToggleActive(false);\n    hasDoneSelect.current = true;\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  }, [onClose]);\n  var disabledDate = useCallback(function (date, selectDate, selectedDone, target) {\n    return disabledDateProp === null || disabledDateProp === void 0 ? void 0 : disabledDateProp(date, selectDate, selectedDone, target);\n  }, [disabledDateProp]);\n  var disabledByBetween = useCallback(function (start, end, type) {\n    var selectStartDate = selectValue[0],\n        selectEndDate = selectValue[1];\n    var nextSelectValue = [selectStartDate, selectEndDate]; // If the date is between the start and the end\n    // the button is disabled\n\n    while (DateUtils.isBefore(start, end) || DateUtils.isSameDay(start, end)) {\n      if (disabledDate(start, nextSelectValue, hasDoneSelect.current, type)) {\n        return true;\n      }\n\n      start = DateUtils.addDays(start, 1);\n    }\n\n    return false;\n  }, [disabledDate, selectValue]);\n  var disabledOkButton = useCallback(function () {\n    var start = selectValue[0],\n        end = selectValue[1];\n\n    if (!start || !end || !hasDoneSelect.current) {\n      return true;\n    }\n\n    return disabledByBetween(start, end, DATERANGE_DISABLED_TARGET.TOOLBAR_BUTTON_OK);\n  }, [disabledByBetween, selectValue]);\n  var disabledShortcutButton = useCallback(function (value) {\n    if (value === void 0) {\n      value = [];\n    }\n\n    var _value = value,\n        start = _value[0],\n        end = _value[1];\n\n    if (!start || !end) {\n      return true;\n    }\n\n    return disabledByBetween(start, end, DATERANGE_DISABLED_TARGET.TOOLBAR_SHORTCUT);\n  }, [disabledByBetween]);\n  var handleDisabledDate = useCallback(function (date, values, type) {\n    return disabledDate(date, values, hasDoneSelect.current, type);\n  }, [disabledDate]);\n  var onPickerKeyDown = useToggleKeyDownEvent(_extends({\n    triggerRef: triggerRef,\n    targetRef: targetRef,\n    active: isPickerToggleActive,\n    onExit: handleClean\n  }, rest));\n\n  var renderDropdownMenu = function renderDropdownMenu(positionProps, speakerRef) {\n    var left = positionProps.left,\n        top = positionProps.top,\n        className = positionProps.className;\n    var classes = merge(className, menuClassName, prefix('daterange-menu'));\n    var panelClasses = prefix('daterange-panel', {\n      'daterange-panel-show-one-calendar': showOneCalendar\n    });\n\n    var styles = _extends({}, menuStyle, {\n      left: left,\n      top: top\n    });\n\n    var panelProps = {\n      calendarDate: calendarDate,\n      disabledDate: handleDisabledDate,\n      format: formatStr,\n      hoverRangeValue: hoverValue,\n      isoWeek: isoWeek,\n      limitEndYear: limitEndYear,\n      locale: locale,\n      showOneCalendar: showOneCalendar,\n      showWeekNumbers: showWeekNumbers,\n      value: selectValue,\n      showMeridian: showMeridian,\n      onChangeCalendarDate: handleChangeCalendarDate,\n      onChangeCalendarTime: handleChangeCalendarTime,\n      onMouseMove: handleMouseMove,\n      onSelect: handleSelectValueChange,\n      onToggleMeridian: handleToggleMeridian\n    };\n    return /*#__PURE__*/React.createElement(PickerOverlay, {\n      className: classes,\n      ref: mergeRefs(overlayRef, speakerRef),\n      target: triggerRef,\n      style: styles\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: panelClasses\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('daterange-content')\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('daterange-header')\n    }, getDisplayString(selectValue)), /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix(\"daterange-calendar-\" + (showOneCalendar ? 'single' : 'group'))\n    }, /*#__PURE__*/React.createElement(Calendar, _extends({\n      index: 0\n    }, panelProps)), !showOneCalendar && /*#__PURE__*/React.createElement(Calendar, _extends({\n      index: 1\n    }, panelProps)))), /*#__PURE__*/React.createElement(Toolbar, {\n      locale: locale,\n      calendarDate: selectValue,\n      disabledOkBtn: disabledOkButton,\n      disabledShortcut: disabledShortcutButton,\n      hideOkBtn: oneTap,\n      onOk: handleOK,\n      onClickShortcut: handleShortcutPageDate,\n      ranges: ranges\n    })));\n  };\n\n  var hasValue = value && value.length > 1;\n\n  var _usePickerClassName = usePickerClassName(_extends({}, props, {\n    classPrefix: classPrefix,\n    name: 'daterange',\n    appearance: appearance,\n    hasValue: hasValue,\n    cleanable: cleanable\n  })),\n      classes = _usePickerClassName[0],\n      usedClassNamePropKeys = _usePickerClassName[1];\n\n  return /*#__PURE__*/React.createElement(PickerToggleTrigger, {\n    pickerProps: pick(props, pickTriggerPropKeys),\n    ref: triggerRef,\n    placement: placement,\n    onEnter: createChainedFunction(handleEnter, onEnter),\n    onEntered: createChainedFunction(handleEntered, onEntered),\n    onExited: createChainedFunction(handleExited, onExited),\n    speaker: renderDropdownMenu\n  }, /*#__PURE__*/React.createElement(Component, {\n    ref: rootRef,\n    className: merge(className, classes, (_merge = {}, _merge[prefix('error')] = inputState === 'Error', _merge)),\n    style: style\n  }, /*#__PURE__*/React.createElement(PickerToggle, _extends({}, omit(rest, [].concat(omitTriggerPropKeys, usedClassNamePropKeys, DateUtils.calendarOnlyProps)), {\n    as: toggleAs,\n    ref: targetRef,\n    appearance: appearance,\n    input: true,\n    inputMask: DateUtils.getDateMask(rangeFormatStr),\n    inputValue: value ? getDisplayString(value, true) : '',\n    inputPlaceholder: typeof placeholder === 'string' && placeholder ? placeholder : rangeFormatStr,\n    onInputChange: handleInputChange,\n    onInputBlur: handleInputPressEnd,\n    onInputPressEnter: handleInputPressEnd,\n    onKeyDown: onPickerKeyDown,\n    onClean: createChainedFunction(handleClean, onClean),\n    cleanable: cleanable && !disabled,\n    hasValue: hasValue,\n    active: isPickerToggleActive,\n    placement: placement,\n    caretComponent: IconCalendar,\n    disabled: disabled\n  }), getDisplayString())));\n});\nDateRangePicker.after = disabledDateUtils.after;\nDateRangePicker.afterToday = disabledDateUtils.afterToday;\nDateRangePicker.allowedDays = disabledDateUtils.allowedDays;\nDateRangePicker.allowedMaxDays = disabledDateUtils.allowedMaxDays;\nDateRangePicker.allowedRange = disabledDateUtils.allowedRange;\nDateRangePicker.before = disabledDateUtils.before;\nDateRangePicker.beforeToday = disabledDateUtils.beforeToday;\nDateRangePicker.combine = disabledDateUtils.combine;\nDateRangePicker.displayName = 'DateRangePicker';\nDateRangePicker.propTypes = _extends({}, pickerPropTypes, {\n  ranges: PropTypes.array,\n  value: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultCalendarValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  hoverRange: PropTypes.oneOfType([PropTypes.oneOf(['week', 'month']), PropTypes.func]),\n  format: PropTypes.string,\n  isoWeek: PropTypes.bool,\n  oneTap: PropTypes.bool,\n  limitEndYear: PropTypes.number,\n  onChange: PropTypes.func,\n  onOk: PropTypes.func,\n  disabledDate: PropTypes.func,\n  onSelect: PropTypes.func,\n  showWeekNumbers: PropTypes.bool,\n  showMeridian: PropTypes.bool,\n  showOneCalendar: PropTypes.bool\n});\nexport default DateRangePicker;","map":{"version":3,"sources":["/Users/nirajpatel/Development/code/Phase3/Phase-3-Frontend/phase-3-frontend/node_modules/rsuite/esm/DateRangePicker/DateRangePicker.js"],"names":["_extends","_objectWithoutPropertiesLoose","IconCalendar","isUndefined","omit","partial","pick","PropTypes","React","useCallback","useEffect","useRef","useState","FormattedDate","Toolbar","omitTriggerPropKeys","PickerOverlay","pickerPropTypes","PickerToggle","PickerToggleTrigger","pickTriggerPropKeys","usePickerClassName","usePublicMethods","useToggleKeyDownEvent","createChainedFunction","DATERANGE_DISABLED_TARGET","DateUtils","mergeRefs","useClassNames","useControlled","useCustom","addMonths","compareAsc","isSameMonth","Calendar","disabledDateUtils","getCalendarDate","getMonthHoverRange","getWeekHoverRange","isSameRange","setTimingMargin","DateRangePicker","forwardRef","props","ref","_ref","_merge","_props$as","as","Component","_props$classPrefix","classPrefix","className","_props$appearance","appearance","_props$cleanable","cleanable","_props$character","character","defaultCalendarValue","defaultValue","disabled","disabledDateProp","disabledDate","_props$format","format","formatStr","hoverRange","isoWeek","_props$limitEndYear","limitEndYear","overrideLocale","locale","menuClassName","menuStyle","oneTap","_props$placeholder","placeholder","_props$placement","placement","ranges","renderValue","_props$showOneCalenda","showOneCalendar","showWeekNumbers","showMeridian","style","toggleAs","valueProp","value","onChange","onClean","onClose","onEnter","onEntered","onExited","onOk","onOpen","onSelect","rest","_useClassNames","merge","prefix","_useCustom","formatDate","parseDate","rangeFormatStr","_useControlled","setValue","hasDoneSelect","_useState","selectValue","setSelectValue","_useState2","hoverValue","setHoverValue","_useState3","calendarDate","setCalendarDate","_useState4","inputState","setInputState","selectRangeValueRef","updateCalendarDate","_useState5","isPickerToggleActive","setPickerToggleActive","rootRef","overlayRef","targetRef","triggerRef","handleCloseDropdown","_triggerRef$current","_triggerRef$current$c","current","close","call","getDisplayString","nextValue","isPlaintext","_nextValue","_nextValue2","startDate","endDate","displayValue","sort","createElement","Fragment","date","getHoverRangeValue","hoverRangeFunc","hoverValues","isHoverRangeValid","Array","length","isAfter","reverse","handleValueUpdate","event","nextSelectValue","closeOverlay","handleMouseMove","hoverRangeValue","nextHoverValue","isBefore","prevHoverValue","handleSelectValueChange","from","noHoverRangeValid","_selectValue$length","selectValueLength","doneSelected","handleChangeCalendarDate","index","nextCalendarDate","handleChangeCalendarTime","prev","next","concat","clonedDate","Date","valueOf","setFullYear","getFullYear","getMonth","getDate","handleToggleMeridian","hours","getHours","nextHours","setHours","handleShortcutPageDate","handleOK","handleClean","handleInputChange","rangeValue","split","isMatch","dateLocale","isValid","CALENDAR","handleInputPressEnd","handleEnter","_startDate","endData","handleEntered","handleExited","selectDate","selectedDone","target","disabledByBetween","start","end","type","selectStartDate","selectEndDate","isSameDay","addDays","disabledOkButton","TOOLBAR_BUTTON_OK","disabledShortcutButton","_value","TOOLBAR_SHORTCUT","handleDisabledDate","values","onPickerKeyDown","active","onExit","renderDropdownMenu","positionProps","speakerRef","left","top","classes","panelClasses","styles","panelProps","onChangeCalendarDate","onChangeCalendarTime","onMouseMove","onToggleMeridian","disabledOkBtn","disabledShortcut","hideOkBtn","onClickShortcut","hasValue","_usePickerClassName","name","usedClassNamePropKeys","pickerProps","speaker","calendarOnlyProps","input","inputMask","getDateMask","inputValue","inputPlaceholder","onInputChange","onInputBlur","onInputPressEnter","onKeyDown","caretComponent","after","afterToday","allowedDays","allowedMaxDays","allowedRange","before","beforeToday","combine","displayName","propTypes","array","arrayOf","instanceOf","oneOfType","oneOf","func","string","bool","number"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport IconCalendar from '@rsuite/icons/legacy/Calendar';\nimport isUndefined from 'lodash/isUndefined';\nimport omit from 'lodash/omit';\nimport partial from 'lodash/partial';\nimport pick from 'lodash/pick';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { FormattedDate } from '../CustomProvider';\nimport Toolbar from '../DatePicker/Toolbar';\nimport { omitTriggerPropKeys, PickerOverlay, pickerPropTypes, PickerToggle, PickerToggleTrigger, pickTriggerPropKeys, usePickerClassName, usePublicMethods, useToggleKeyDownEvent } from '../Picker';\nimport { createChainedFunction, DATERANGE_DISABLED_TARGET, DateUtils, mergeRefs, useClassNames, useControlled, useCustom } from '../utils';\nimport { addMonths, compareAsc, isSameMonth } from '../utils/dateUtils';\nimport Calendar from './Calendar';\nimport * as disabledDateUtils from './disabledDateUtils';\nimport { getCalendarDate, getMonthHoverRange, getWeekHoverRange, isSameRange, setTimingMargin } from './utils';\nvar DateRangePicker = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _ref, _merge;\n\n  var _props$as = props.as,\n      Component = _props$as === void 0 ? 'div' : _props$as,\n      _props$classPrefix = props.classPrefix,\n      classPrefix = _props$classPrefix === void 0 ? 'picker' : _props$classPrefix,\n      className = props.className,\n      _props$appearance = props.appearance,\n      appearance = _props$appearance === void 0 ? 'default' : _props$appearance,\n      _props$cleanable = props.cleanable,\n      cleanable = _props$cleanable === void 0 ? true : _props$cleanable,\n      _props$character = props.character,\n      character = _props$character === void 0 ? ' ~ ' : _props$character,\n      defaultCalendarValue = props.defaultCalendarValue,\n      defaultValue = props.defaultValue,\n      disabled = props.disabled,\n      disabledDateProp = props.disabledDate,\n      _props$format = props.format,\n      formatStr = _props$format === void 0 ? 'yyyy-MM-dd' : _props$format,\n      hoverRange = props.hoverRange,\n      isoWeek = props.isoWeek,\n      _props$limitEndYear = props.limitEndYear,\n      limitEndYear = _props$limitEndYear === void 0 ? 1000 : _props$limitEndYear,\n      overrideLocale = props.locale,\n      menuClassName = props.menuClassName,\n      menuStyle = props.menuStyle,\n      oneTap = props.oneTap,\n      _props$placeholder = props.placeholder,\n      placeholder = _props$placeholder === void 0 ? '' : _props$placeholder,\n      _props$placement = props.placement,\n      placement = _props$placement === void 0 ? 'bottomStart' : _props$placement,\n      ranges = props.ranges,\n      renderValue = props.renderValue,\n      _props$showOneCalenda = props.showOneCalendar,\n      showOneCalendar = _props$showOneCalenda === void 0 ? false : _props$showOneCalenda,\n      showWeekNumbers = props.showWeekNumbers,\n      showMeridian = props.showMeridian,\n      style = props.style,\n      toggleAs = props.toggleAs,\n      valueProp = props.value,\n      onChange = props.onChange,\n      onClean = props.onClean,\n      onClose = props.onClose,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onExited = props.onExited,\n      onOk = props.onOk,\n      onOpen = props.onOpen,\n      onSelect = props.onSelect,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"classPrefix\", \"className\", \"appearance\", \"cleanable\", \"character\", \"defaultCalendarValue\", \"defaultValue\", \"disabled\", \"disabledDate\", \"format\", \"hoverRange\", \"isoWeek\", \"limitEndYear\", \"locale\", \"menuClassName\", \"menuStyle\", \"oneTap\", \"placeholder\", \"placement\", \"ranges\", \"renderValue\", \"showOneCalendar\", \"showWeekNumbers\", \"showMeridian\", \"style\", \"toggleAs\", \"value\", \"onChange\", \"onClean\", \"onClose\", \"onEnter\", \"onEntered\", \"onExited\", \"onOk\", \"onOpen\", \"onSelect\"]);\n\n  var _useClassNames = useClassNames(classPrefix),\n      merge = _useClassNames.merge,\n      prefix = _useClassNames.prefix;\n\n  var _useCustom = useCustom('DateRangePicker', overrideLocale),\n      locale = _useCustom.locale,\n      formatDate = _useCustom.formatDate,\n      parseDate = _useCustom.parseDate;\n\n  var rangeFormatStr = \"\" + formatStr + character + formatStr;\n\n  var _useControlled = useControlled(valueProp, defaultValue !== null && defaultValue !== void 0 ? defaultValue : []),\n      value = _useControlled[0],\n      setValue = _useControlled[1];\n  /**\n   * Whether to complete the selection.\n   * Everytime selection will change this value. If the value is false, it means that the selection has not been completed.\n   *\n   * In `oneTap` mode, select action will not change this value, its value should be true always.\n   */\n\n\n  var hasDoneSelect = useRef(true);\n  /**\n   * The currently selected date range.\n   *\n   * The time range is selected by two clicks. After the first click,\n   * the cursor will store a temporary event date in the process until\n   * the second click to determine the end date of the date range.\n   *\n   */\n\n  var _useState = useState((_ref = valueProp !== null && valueProp !== void 0 ? valueProp : defaultValue) !== null && _ref !== void 0 ? _ref : []),\n      selectValue = _useState[0],\n      setSelectValue = _useState[1]; // The date of the current hover, used to reduce the calculation of `handleMouseMove`\n\n\n  var _useState2 = useState([]),\n      hoverValue = _useState2[0],\n      setHoverValue = _useState2[1]; // The displayed calendar panel is rendered based on this value.\n\n\n  var _useState3 = useState(getCalendarDate({\n    value: valueProp !== null && valueProp !== void 0 ? valueProp : defaultCalendarValue\n  })),\n      calendarDate = _useState3[0],\n      setCalendarDate = _useState3[1];\n\n  var _useState4 = useState(),\n      inputState = _useState4[0],\n      setInputState = _useState4[1];\n  /**\n   * When hoverRange is set, `selectValue` will be updated during the hover process,\n   * which will cause the `selectValue` to be updated after the first click,\n   * so declare a Ref to temporarily store the `selectValue` of the first click.\n   */\n\n\n  var selectRangeValueRef = useRef(null);\n  /**\n   * Call this function to update the calendar panel rendering benchmark value.\n   * If params `value` is not passed, it defaults to [new Date(), addMonth(new Date(), 1)].\n   */\n\n  var updateCalendarDate = useCallback(function (value) {\n    setCalendarDate(getCalendarDate({\n      value: value\n    }));\n  }, []); // if valueProp changed then update selectValue/hoverValue\n\n  useEffect(function () {\n    setSelectValue(valueProp !== null && valueProp !== void 0 ? valueProp : []);\n    setHoverValue(valueProp !== null && valueProp !== void 0 ? valueProp : []);\n  }, [valueProp]);\n\n  var _useState5 = useState(false),\n      isPickerToggleActive = _useState5[0],\n      setPickerToggleActive = _useState5[1];\n\n  var rootRef = useRef();\n  var overlayRef = useRef();\n  var targetRef = useRef();\n  var triggerRef = useRef();\n  var handleCloseDropdown = useCallback(function () {\n    var _triggerRef$current, _triggerRef$current$c;\n\n    (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : (_triggerRef$current$c = _triggerRef$current.close) === null || _triggerRef$current$c === void 0 ? void 0 : _triggerRef$current$c.call(_triggerRef$current);\n  }, []);\n  usePublicMethods(ref, {\n    triggerRef: triggerRef,\n    overlayRef: overlayRef,\n    targetRef: targetRef,\n    rootRef: rootRef\n  });\n  var getDisplayString = useCallback(function (nextValue, isPlaintext) {\n    var _nextValue, _nextValue2;\n\n    if (nextValue === void 0) {\n      nextValue = value;\n    }\n\n    var startDate = (_nextValue = nextValue) === null || _nextValue === void 0 ? void 0 : _nextValue[0];\n    var endDate = (_nextValue2 = nextValue) === null || _nextValue2 === void 0 ? void 0 : _nextValue2[1];\n\n    if (startDate && endDate) {\n      var displayValue = [startDate, endDate].sort(compareAsc);\n\n      if (isPlaintext) {\n        return formatDate(displayValue[0], formatStr) + character + formatDate(displayValue[1], formatStr);\n      }\n\n      return renderValue ? renderValue(displayValue, formatStr) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormattedDate, {\n        date: displayValue[0],\n        formatStr: formatStr\n      }), character, /*#__PURE__*/React.createElement(FormattedDate, {\n        date: displayValue[1],\n        formatStr: formatStr\n      }));\n    }\n\n    return isPlaintext ? '' : placeholder || rangeFormatStr;\n  }, [character, formatDate, formatStr, placeholder, rangeFormatStr, renderValue, value]);\n  /**\n   * preset hover range\n   */\n\n  var getHoverRangeValue = useCallback(function (date) {\n    if (!hoverRange) {\n      return [];\n    }\n\n    var hoverRangeFunc = hoverRange;\n\n    if (hoverRange === 'week') {\n      hoverRangeFunc = partial(getWeekHoverRange, isoWeek);\n    }\n\n    if (hoverRangeFunc === 'month') {\n      hoverRangeFunc = getMonthHoverRange;\n    }\n\n    if (typeof hoverRangeFunc !== 'function') {\n      return [];\n    }\n\n    var hoverValues = hoverRangeFunc(date);\n    var isHoverRangeValid = hoverValues instanceof Array && hoverValues.length === 2;\n\n    if (!isHoverRangeValid) {\n      return [];\n    }\n\n    if (DateUtils.isAfter(hoverValues[0], hoverValues[1])) {\n      hoverValues.reverse();\n    }\n\n    return hoverValues;\n  }, [hoverRange, isoWeek]);\n  var handleValueUpdate = useCallback(function (event, nextSelectValue, closeOverlay) {\n    if (closeOverlay === void 0) {\n      closeOverlay = true;\n    }\n\n    var nextValue = !isUndefined(nextSelectValue) ? nextSelectValue : selectValue;\n    setSelectValue(nextValue || []);\n\n    if (!isSameRange(nextValue, value, formatStr)) {\n      setValue(nextValue);\n      onChange === null || onChange === void 0 ? void 0 : onChange(nextValue, event);\n    } // `closeOverlay` default value is `true`\n\n\n    if (closeOverlay !== false) {\n      handleCloseDropdown();\n    }\n  }, [formatStr, handleCloseDropdown, onChange, selectValue, setValue, value]);\n  /**\n   * Select the date range. If oneTap is not set, you need to click twice to select the start time and end time.\n   * The MouseMove event is called between the first click and the second click to update the selection state.\n   */\n\n  var handleMouseMove = useCallback(function (date) {\n    var hoverRangeValue = getHoverRangeValue(date); // After the first click\n\n    if (!hasDoneSelect.current) {\n      // If hoverRange is set, you need to change the value of hoverValue according to the rules\n      if (hoverRange) {\n        var nextHoverValue = [selectRangeValueRef.current[0], hoverRangeValue[1]];\n\n        if (DateUtils.isBefore(hoverRangeValue[0], selectRangeValueRef.current[0])) {\n          nextHoverValue[0] = hoverRangeValue[0];\n          nextHoverValue[1] = selectRangeValueRef.current[1];\n        }\n\n        setSelectValue(nextHoverValue);\n      } else {\n        setHoverValue(function (prevHoverValue) {\n          return [prevHoverValue[0], date];\n        });\n      } // Before the first click, if hoverRangeValue has a value, hoverValue needs to be updated\n\n    } else if (hoverRange && hoverRangeValue.length) {\n      setHoverValue(hoverRangeValue);\n    }\n  }, [getHoverRangeValue, hoverRange]);\n  var handleSelectValueChange = useCallback(function (date, event) {\n    var nextSelectValue = Array.from(hoverValue);\n    var hoverRangeValue = getHoverRangeValue(date);\n    var noHoverRangeValid = hoverRangeValue.length !== 2; // in `oneTap` mode\n\n    if (hasDoneSelect.current && oneTap) {\n      handleValueUpdate(event, noHoverRangeValid ? [setTimingMargin(date), setTimingMargin(date, 'right')] : hoverRangeValue);\n      hasDoneSelect.current = false;\n      return;\n    } // no preset hover range can use\n\n\n    if (noHoverRangeValid) {\n      // start select\n      if (hasDoneSelect.current) {\n        nextSelectValue = [date];\n      } else {\n        // finish select\n        nextSelectValue[1] = date;\n      }\n    } else {\n      if (!hasDoneSelect.current) {\n        nextSelectValue = selectValue;\n        selectRangeValueRef.current = null;\n      } else {\n        nextSelectValue = hoverRangeValue;\n        selectRangeValueRef.current = hoverRangeValue;\n      }\n    } // If user have completed the selection, then sort\n\n\n    if (nextSelectValue.length === 2 && DateUtils.isAfter(nextSelectValue[0], nextSelectValue[1])) {\n      nextSelectValue.reverse();\n    }\n\n    setHoverValue(nextSelectValue);\n    setSelectValue(nextSelectValue);\n    updateCalendarDate(nextSelectValue);\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(date, event);\n    hasDoneSelect.current = !hasDoneSelect.current;\n  }, [getHoverRangeValue, handleValueUpdate, hoverValue, onSelect, oneTap, selectValue, updateCalendarDate]);\n  /**\n   * If `selectValue` changed, there will be the following effects.\n   * 1. Check if the selection is completed.\n   * 2. if the selection is completed, set the temporary `hoverValue` empty.\n   */\n\n  useEffect(function () {\n    var _selectValue$length;\n\n    var selectValueLength = (_selectValue$length = selectValue === null || selectValue === void 0 ? void 0 : selectValue.length) !== null && _selectValue$length !== void 0 ? _selectValue$length : 0;\n    var doneSelected = selectValueLength === 0 || selectValueLength === 2;\n    doneSelected && setHoverValue([]);\n  }, [selectValue]);\n  var handleChangeCalendarDate = useCallback(function (index, date) {\n    var nextCalendarDate = Array.from(calendarDate);\n    nextCalendarDate[index] = date;\n    updateCalendarDate(nextCalendarDate);\n  }, [calendarDate, updateCalendarDate]);\n  var handleChangeCalendarTime = useCallback(function (index, date) {\n    setSelectValue(function (prev) {\n      var next = [].concat(prev);\n      var clonedDate = new Date(date.valueOf()); // if next[index] is not empty, only update the time after aligning the year, month and day\n\n      if (next[index]) {\n        clonedDate.setFullYear(next[index].getFullYear(), next[index].getMonth(), next[index].getDate());\n      }\n\n      next[index] = clonedDate;\n      return next;\n    });\n    handleChangeCalendarDate(index, date);\n  }, [handleChangeCalendarDate]);\n  /**\n   * The callback triggered when PM/AM is switched.\n   */\n\n  var handleToggleMeridian = useCallback(function (index) {\n    var next = Array.from(calendarDate);\n    var clonedDate = new Date(next[index].valueOf());\n    var hours = DateUtils.getHours(clonedDate);\n    var nextHours = hours >= 12 ? hours - 12 : hours + 12;\n    next[index] = DateUtils.setHours(clonedDate, nextHours);\n    setCalendarDate(next); // If the value already exists, update the value again.\n\n    if (selectValue.length === 2) {\n      setSelectValue(next);\n    }\n  }, [calendarDate, selectValue]);\n  /**\n   * Toolbar operation callback function\n   */\n\n  var handleShortcutPageDate = useCallback(function (value, closeOverlay, event) {\n    handleValueUpdate(event, value, closeOverlay);\n  }, [handleValueUpdate]);\n  var handleOK = useCallback(function (event) {\n    handleValueUpdate(event);\n    onOk === null || onOk === void 0 ? void 0 : onOk(selectValue, event);\n  }, [handleValueUpdate, onOk, selectValue]);\n  var handleClean = useCallback(function (event) {\n    updateCalendarDate();\n    handleValueUpdate(event, []);\n  }, [handleValueUpdate, updateCalendarDate]);\n  /**\n   * Callback after the input box value is changed.\n   */\n\n  var handleInputChange = useCallback(function (value) {\n    setInputState('Typing');\n    var rangeValue = value.split(character); // isMatch('01/11/2020', 'MM/dd/yyyy') ==> true\n    // isMatch('2020-11-01', 'MM/dd/yyyy') ==> false\n\n    if (!DateUtils.isMatch(rangeValue[0], formatStr, {\n      locale: locale.dateLocale\n    }) || !DateUtils.isMatch(rangeValue[1], formatStr, {\n      locale: locale.dateLocale\n    })) {\n      setInputState('Error');\n      return;\n    }\n\n    var startDate = parseDate(rangeValue[0], formatStr);\n    var endDate = parseDate(rangeValue[1], formatStr);\n    var selectValue = [startDate, endDate];\n\n    if (!DateUtils.isValid(startDate) || !DateUtils.isValid(endDate)) {\n      setInputState('Error');\n      return;\n    }\n\n    if (disabledDate(startDate, selectValue, true, DATERANGE_DISABLED_TARGET.CALENDAR)) {\n      setInputState('Error');\n      return;\n    }\n\n    setHoverValue(selectValue);\n    setSelectValue(selectValue);\n    updateCalendarDate(selectValue);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [character, rangeFormatStr, updateCalendarDate]);\n  /**\n   * The callback after the enter key is triggered on the input\n   */\n\n  var handleInputPressEnd = useCallback(function (event) {\n    if (inputState === 'Typing') {\n      handleValueUpdate(event, selectValue);\n    }\n\n    setInputState('Initial');\n  }, [handleValueUpdate, selectValue, inputState]);\n  var handleEnter = useCallback(function () {\n    var nextCalendarDate;\n\n    if (value && value.length) {\n      var _startDate = value[0],\n          endData = value[1];\n      nextCalendarDate = [_startDate, isSameMonth(_startDate, endData) ? addMonths(endData, 1) : endData];\n    } else {\n      nextCalendarDate = getCalendarDate({\n        value: defaultCalendarValue\n      });\n    }\n\n    setSelectValue(value);\n    updateCalendarDate(nextCalendarDate);\n  }, [defaultCalendarValue, updateCalendarDate, setSelectValue, value]);\n  var handleEntered = useCallback(function () {\n    onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n    setPickerToggleActive(true);\n  }, [onOpen]);\n  var handleExited = useCallback(function () {\n    setPickerToggleActive(false);\n    hasDoneSelect.current = true;\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n  }, [onClose]);\n  var disabledDate = useCallback(function (date, selectDate, selectedDone, target) {\n    return disabledDateProp === null || disabledDateProp === void 0 ? void 0 : disabledDateProp(date, selectDate, selectedDone, target);\n  }, [disabledDateProp]);\n  var disabledByBetween = useCallback(function (start, end, type) {\n    var selectStartDate = selectValue[0],\n        selectEndDate = selectValue[1];\n    var nextSelectValue = [selectStartDate, selectEndDate]; // If the date is between the start and the end\n    // the button is disabled\n\n    while (DateUtils.isBefore(start, end) || DateUtils.isSameDay(start, end)) {\n      if (disabledDate(start, nextSelectValue, hasDoneSelect.current, type)) {\n        return true;\n      }\n\n      start = DateUtils.addDays(start, 1);\n    }\n\n    return false;\n  }, [disabledDate, selectValue]);\n  var disabledOkButton = useCallback(function () {\n    var start = selectValue[0],\n        end = selectValue[1];\n\n    if (!start || !end || !hasDoneSelect.current) {\n      return true;\n    }\n\n    return disabledByBetween(start, end, DATERANGE_DISABLED_TARGET.TOOLBAR_BUTTON_OK);\n  }, [disabledByBetween, selectValue]);\n  var disabledShortcutButton = useCallback(function (value) {\n    if (value === void 0) {\n      value = [];\n    }\n\n    var _value = value,\n        start = _value[0],\n        end = _value[1];\n\n    if (!start || !end) {\n      return true;\n    }\n\n    return disabledByBetween(start, end, DATERANGE_DISABLED_TARGET.TOOLBAR_SHORTCUT);\n  }, [disabledByBetween]);\n  var handleDisabledDate = useCallback(function (date, values, type) {\n    return disabledDate(date, values, hasDoneSelect.current, type);\n  }, [disabledDate]);\n  var onPickerKeyDown = useToggleKeyDownEvent(_extends({\n    triggerRef: triggerRef,\n    targetRef: targetRef,\n    active: isPickerToggleActive,\n    onExit: handleClean\n  }, rest));\n\n  var renderDropdownMenu = function renderDropdownMenu(positionProps, speakerRef) {\n    var left = positionProps.left,\n        top = positionProps.top,\n        className = positionProps.className;\n    var classes = merge(className, menuClassName, prefix('daterange-menu'));\n    var panelClasses = prefix('daterange-panel', {\n      'daterange-panel-show-one-calendar': showOneCalendar\n    });\n\n    var styles = _extends({}, menuStyle, {\n      left: left,\n      top: top\n    });\n\n    var panelProps = {\n      calendarDate: calendarDate,\n      disabledDate: handleDisabledDate,\n      format: formatStr,\n      hoverRangeValue: hoverValue,\n      isoWeek: isoWeek,\n      limitEndYear: limitEndYear,\n      locale: locale,\n      showOneCalendar: showOneCalendar,\n      showWeekNumbers: showWeekNumbers,\n      value: selectValue,\n      showMeridian: showMeridian,\n      onChangeCalendarDate: handleChangeCalendarDate,\n      onChangeCalendarTime: handleChangeCalendarTime,\n      onMouseMove: handleMouseMove,\n      onSelect: handleSelectValueChange,\n      onToggleMeridian: handleToggleMeridian\n    };\n    return /*#__PURE__*/React.createElement(PickerOverlay, {\n      className: classes,\n      ref: mergeRefs(overlayRef, speakerRef),\n      target: triggerRef,\n      style: styles\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: panelClasses\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('daterange-content')\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('daterange-header')\n    }, getDisplayString(selectValue)), /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix(\"daterange-calendar-\" + (showOneCalendar ? 'single' : 'group'))\n    }, /*#__PURE__*/React.createElement(Calendar, _extends({\n      index: 0\n    }, panelProps)), !showOneCalendar && /*#__PURE__*/React.createElement(Calendar, _extends({\n      index: 1\n    }, panelProps)))), /*#__PURE__*/React.createElement(Toolbar, {\n      locale: locale,\n      calendarDate: selectValue,\n      disabledOkBtn: disabledOkButton,\n      disabledShortcut: disabledShortcutButton,\n      hideOkBtn: oneTap,\n      onOk: handleOK,\n      onClickShortcut: handleShortcutPageDate,\n      ranges: ranges\n    })));\n  };\n\n  var hasValue = value && value.length > 1;\n\n  var _usePickerClassName = usePickerClassName(_extends({}, props, {\n    classPrefix: classPrefix,\n    name: 'daterange',\n    appearance: appearance,\n    hasValue: hasValue,\n    cleanable: cleanable\n  })),\n      classes = _usePickerClassName[0],\n      usedClassNamePropKeys = _usePickerClassName[1];\n\n  return /*#__PURE__*/React.createElement(PickerToggleTrigger, {\n    pickerProps: pick(props, pickTriggerPropKeys),\n    ref: triggerRef,\n    placement: placement,\n    onEnter: createChainedFunction(handleEnter, onEnter),\n    onEntered: createChainedFunction(handleEntered, onEntered),\n    onExited: createChainedFunction(handleExited, onExited),\n    speaker: renderDropdownMenu\n  }, /*#__PURE__*/React.createElement(Component, {\n    ref: rootRef,\n    className: merge(className, classes, (_merge = {}, _merge[prefix('error')] = inputState === 'Error', _merge)),\n    style: style\n  }, /*#__PURE__*/React.createElement(PickerToggle, _extends({}, omit(rest, [].concat(omitTriggerPropKeys, usedClassNamePropKeys, DateUtils.calendarOnlyProps)), {\n    as: toggleAs,\n    ref: targetRef,\n    appearance: appearance,\n    input: true,\n    inputMask: DateUtils.getDateMask(rangeFormatStr),\n    inputValue: value ? getDisplayString(value, true) : '',\n    inputPlaceholder: typeof placeholder === 'string' && placeholder ? placeholder : rangeFormatStr,\n    onInputChange: handleInputChange,\n    onInputBlur: handleInputPressEnd,\n    onInputPressEnter: handleInputPressEnd,\n    onKeyDown: onPickerKeyDown,\n    onClean: createChainedFunction(handleClean, onClean),\n    cleanable: cleanable && !disabled,\n    hasValue: hasValue,\n    active: isPickerToggleActive,\n    placement: placement,\n    caretComponent: IconCalendar,\n    disabled: disabled\n  }), getDisplayString())));\n});\nDateRangePicker.after = disabledDateUtils.after;\nDateRangePicker.afterToday = disabledDateUtils.afterToday;\nDateRangePicker.allowedDays = disabledDateUtils.allowedDays;\nDateRangePicker.allowedMaxDays = disabledDateUtils.allowedMaxDays;\nDateRangePicker.allowedRange = disabledDateUtils.allowedRange;\nDateRangePicker.before = disabledDateUtils.before;\nDateRangePicker.beforeToday = disabledDateUtils.beforeToday;\nDateRangePicker.combine = disabledDateUtils.combine;\nDateRangePicker.displayName = 'DateRangePicker';\nDateRangePicker.propTypes = _extends({}, pickerPropTypes, {\n  ranges: PropTypes.array,\n  value: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultCalendarValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  hoverRange: PropTypes.oneOfType([PropTypes.oneOf(['week', 'month']), PropTypes.func]),\n  format: PropTypes.string,\n  isoWeek: PropTypes.bool,\n  oneTap: PropTypes.bool,\n  limitEndYear: PropTypes.number,\n  onChange: PropTypes.func,\n  onOk: PropTypes.func,\n  disabledDate: PropTypes.func,\n  onSelect: PropTypes.func,\n  showWeekNumbers: PropTypes.bool,\n  showMeridian: PropTypes.bool,\n  showOneCalendar: PropTypes.bool\n});\nexport default DateRangePicker;"]},"metadata":{},"sourceType":"module"}