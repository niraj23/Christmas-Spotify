{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { useCallback, useContext, useRef, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuContext, { MenuActionTypes, MoveFocusTo } from './MenuContext';\nimport { KEY_VALUES, useCustom } from '../utils';\nimport useUniqueId from '../utils/useUniqueId';\nimport useMenu from './useMenu';\nimport useFocus from '../utils/useFocus';\nimport useClickOutside from '../utils/useClickOutside';\nimport { isFocusLeaving } from '../utils/events';\nimport { isFocusableElement } from '../utils/dom';\nvar defaultOpenMenuOn = ['click'];\n/**\n * Headless ARIA `menu`\n */\n\nfunction Menu(props) {\n  var _items$activeItemInde;\n\n  var disabled = props.disabled,\n      children = props.children,\n      _props$openMenuOn = props.openMenuOn,\n      openMenuOn = _props$openMenuOn === void 0 ? defaultOpenMenuOn : _props$openMenuOn,\n      menuButtonText = props.menuButtonText,\n      renderMenuButton = props.renderMenuButton,\n      renderMenuPopup = props.renderMenuPopup,\n      onToggleMenu = props.onToggleMenu;\n  var buttonElementRef = useRef();\n  var menuElementRef = useRef();\n  var parentMenu = useContext(MenuContext);\n  var isSubmenu = !!parentMenu;\n  var menu = useMenu();\n  var _menu$ = menu[0],\n      open = _menu$.open,\n      items = _menu$.items,\n      activeItemIndex = _menu$.activeItemIndex,\n      dispatch = menu[1];\n\n  var _useCustom = useCustom('Menu'),\n      rtl = _useCustom.rtl;\n\n  var activeItem = (_items$activeItemInde = items[activeItemIndex]) === null || _items$activeItemInde === void 0 ? void 0 : _items$activeItemInde.element;\n\n  var _useFocus = useFocus(menuElementRef),\n      grabFocus = _useFocus.grab;\n\n  var openMenu = useCallback(function (event) {\n    dispatch({\n      type: MenuActionTypes.OpenMenu\n    });\n\n    if (!event.isTrusted) {\n      dispatch({\n        type: MenuActionTypes.MoveFocus,\n        to: MoveFocusTo.First\n      });\n    }\n\n    onToggleMenu === null || onToggleMenu === void 0 ? void 0 : onToggleMenu(true, event);\n    grabFocus();\n  }, [dispatch, onToggleMenu, grabFocus]);\n  var closeMenu = useCallback(function (event, returnFocusToButton) {\n    if (returnFocusToButton === void 0) {\n      returnFocusToButton = true;\n    }\n\n    dispatch({\n      type: MenuActionTypes.CloseMenu\n    });\n    dispatch({\n      type: MenuActionTypes.MoveFocus,\n      to: MoveFocusTo.None\n    });\n    onToggleMenu === null || onToggleMenu === void 0 ? void 0 : onToggleMenu(false, event);\n\n    if (returnFocusToButton) {\n      buttonElementRef.current.focus({\n        preventScroll: true\n      });\n    }\n  }, [dispatch, onToggleMenu, buttonElementRef]);\n  var toggleMenu = useCallback(function (event) {\n    if (!open) {\n      openMenu(event);\n    } else {\n      closeMenu(event);\n    }\n  }, [open, openMenu, closeMenu]);\n  useClickOutside({\n    enabled: open,\n    isOutside: function isOutside(event) {\n      return !buttonElementRef.current.contains(event.target) && !menuElementRef.current.contains(event.target);\n    },\n    // fixme if clicking on a focusable element, don't move focus to menu button\n    handle: function handle(event) {\n      return closeMenu(event, !isFocusableElement(event.target));\n    }\n  });\n  /**\n   * Keyboard interaction on menu button\n   * @see https://www.w3.org/TR/wai-aria-practices-1.2/#keyboard-interaction-13\n   */\n\n  var handleButtonKeydown = useCallback(function (e) {\n    switch (e.key) {\n      // Open the menu\n      case KEY_VALUES.ENTER:\n      case KEY_VALUES.SPACE:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!open) {\n          openMenu(e);\n          dispatch({\n            type: MenuActionTypes.MoveFocus,\n            to: MoveFocusTo.First\n          });\n        } else {\n          closeMenu(e);\n        }\n\n        break;\n      // Open the menu (if closed) and move focus to first item\n      // This is mostly useful after opening the menu with click\n\n      case KEY_VALUES.DOWN:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!open) {\n          openMenu(e);\n        }\n\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n        break;\n    }\n  }, [open, openMenu, closeMenu, dispatch]);\n  var handleButtonClick = useCallback(function (event) {\n    if (disabled) {\n      return;\n    }\n\n    toggleMenu(event);\n  }, [disabled, toggleMenu]);\n  var handleButtonContextMenu = useCallback(function (event) {\n    // prevents default contextmenu\n    event.preventDefault(); // Only opens menu on right click. Left click can close the menu opened by a right click\n\n    if (open) return;\n    if (disabled) return;\n    openMenu(event);\n  }, [open, disabled, openMenu]);\n  var buttonEventHandlers = useMemo(function () {\n    var buttonEventHandlers = {\n      onKeyDown: handleButtonKeydown\n    };\n    /**\n     * Bind event of trigger,\n     * not used in  in the expanded state of '<Sidenav>'\n     */\n\n    if (openMenuOn !== null && openMenuOn !== void 0 && openMenuOn.includes('click')) {\n      buttonEventHandlers.onClick = handleButtonClick;\n    }\n\n    if (openMenuOn !== null && openMenuOn !== void 0 && openMenuOn.includes('contextmenu')) {\n      buttonEventHandlers.onContextMenu = handleButtonContextMenu;\n    }\n\n    return buttonEventHandlers;\n  }, [openMenuOn, handleButtonKeydown, handleButtonClick, handleButtonContextMenu]);\n  var buttonId = useUniqueId('menubutton-');\n  var menuId = useUniqueId('menu-');\n  var buttonAriaAttributes = useMemo(function () {\n    // Ref: https://www.w3.org/TR/wai-aria-practices-1.2/#wai-aria-roles-states-and-properties-14\n    return {\n      role: 'button',\n      'aria-haspopup': 'menu',\n      'aria-expanded': open || undefined,\n      // it's recommend to remove aria-expanded when menu is hidden\n      'aria-controls': menuId\n    };\n  }, [open, menuId]);\n  var buttonProps = useMemo(function () {\n    return _extends({\n      id: buttonId\n    }, buttonAriaAttributes, buttonEventHandlers, {\n      // render props\n      open: open\n    });\n  }, [buttonId, buttonAriaAttributes, buttonEventHandlers, open]);\n  var customMenuButton = useMemo(function () {\n    return renderMenuButton === null || renderMenuButton === void 0 ? void 0 : renderMenuButton(buttonProps, buttonElementRef);\n  }, [renderMenuButton, buttonProps, buttonElementRef]);\n  var buttonElement = customMenuButton !== null && customMenuButton !== void 0 ? customMenuButton : /*#__PURE__*/React.createElement(\"button\", _extends({\n    ref: buttonElementRef\n  }, buttonProps), menuButtonText);\n  /**\n   * Keyboard interaction on menu\n   * @see https://www.w3.org/TR/wai-aria-practices-1.2/#keyboard-interaction-12\n   */\n\n  var handleMenuKeydown = useCallback(function (e) {\n    switch (e.key) {\n      // Move focus to previous item\n      case KEY_VALUES.UP:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Prev\n        });\n        break;\n      // Move focus to next item\n\n      case KEY_VALUES.DOWN:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Next\n        });\n        break;\n      // When focus is in a menu and on a menuitem that has a submenu, opens the submenu and places focus on its first item.\n\n      case KEY_VALUES.RIGHT:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!rtl) {\n          if ((activeItem === null || activeItem === void 0 ? void 0 : activeItem.getAttribute('aria-haspopup')) === 'menu') {\n            activeItem.click();\n          }\n        } else if (isSubmenu) {\n          dispatch({\n            type: MenuActionTypes.CloseMenu\n          });\n        }\n\n        break;\n      // When focus is in a submenu of an item in a menu, closes the submenu and returns focus to the parent menuitem.\n\n      case KEY_VALUES.LEFT:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!rtl) {\n          if (isSubmenu) {\n            closeMenu(e);\n          }\n        } else if ((activeItem === null || activeItem === void 0 ? void 0 : activeItem.getAttribute('aria-haspopup')) === 'menu') {\n          activeItem.click();\n        }\n\n        break;\n      // Move focus to the first item\n\n      case KEY_VALUES.HOME:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n        break;\n      // Move focus to the last item\n\n      case KEY_VALUES.END:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Last\n        });\n        break;\n      // - When focus is on a menuitem that has a submenu, opens the submenu and places focus on its first item.\n      // - Otherwise, activates the item and closes the menu.\n\n      case KEY_VALUES.ENTER:\n      case KEY_VALUES.SPACE:\n        if (activeItem) {\n          e.preventDefault();\n          e.stopPropagation();\n          activeItem.click();\n\n          if (!activeItem.getAttribute('aria-haspopup')) {\n            closeMenu(e);\n          }\n        }\n\n        break;\n      //  Close the menu that contains focus and return focus to the element or context,\n      //  e.g., menu button or parent menuitem, from which the menu was opened.\n\n      case KEY_VALUES.ESC:\n        closeMenu(e);\n        break;\n    }\n  }, [dispatch, activeItem, isSubmenu, rtl, closeMenu]); // Only used for clicks bubbling from child `menuitem`s.\n\n  var handleMenuClick = useCallback(function (event) {\n    var target = event.target; // Only handle clicks on `menuitem`s\n\n    if (target.getAttribute('role') !== 'menuitem') return; // Ignore clicks on `menuitem`s that controls a submenu\n\n    if (target.getAttribute('aria-haspopup') === 'menu') return; // Ignore disabled `menuitem`s\n\n    if (target.getAttribute('aria-disabled') === 'true') return;\n    closeMenu(event, !isSubmenu);\n  }, [closeMenu, isSubmenu]); // Ref: https://www.w3.org/TR/wai-aria-practices-1.2/#wai-aria-roles-states-and-properties-13\n\n  var menuAriaAttributes = {\n    role: 'menu',\n    'aria-labelledby': buttonId,\n    'aria-activedescendant': activeItem === null || activeItem === void 0 ? void 0 : activeItem.id\n  };\n  var menuEventHandlers = {\n    onClick: handleMenuClick,\n    onKeyDown: handleMenuKeydown\n  };\n\n  var menuProps = _extends({\n    id: menuId\n  }, menuAriaAttributes, menuEventHandlers, {\n    tabIndex: 0\n  });\n\n  var customMenuPopup = renderMenuPopup === null || renderMenuPopup === void 0 ? void 0 : renderMenuPopup(_extends({}, menuProps, {\n    open: open\n  }), menuElementRef);\n  var menuElement = customMenuPopup !== null && customMenuPopup !== void 0 ? customMenuPopup : /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: menuElementRef\n  }, menuProps, {\n    hidden: !open\n  }), children);\n  var handleMouseEnter = useCallback(function (e) {\n    if (!disabled) {\n      openMenu(e);\n    }\n  }, [disabled, openMenu]);\n  var handleMouseLeave = useCallback(function (e) {\n    if (!disabled) {\n      closeMenu(e);\n    }\n  }, [disabled, closeMenu]);\n  var rootElementRef = useRef();\n  var handleContainerBlur = useCallback(function (event) {\n    if (isFocusLeaving(event)) {\n      closeMenu(event, false);\n    }\n  }, [closeMenu]);\n  var rootEventHandlers = {\n    onBlur: handleContainerBlur\n  };\n\n  if (openMenuOn !== null && openMenuOn !== void 0 && openMenuOn.includes('mouseover')) {\n    rootEventHandlers.onMouseEnter = handleMouseEnter;\n    rootEventHandlers.onMouseLeave = handleMouseLeave;\n  }\n\n  var rootProps = _extends({}, rootEventHandlers, {\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, buttonElement, /*#__PURE__*/React.createElement(MenuContext.Provider, {\n      value: menu\n    }, menuElement)),\n    // render props\n    open: open\n  });\n\n  if (isSubmenu) {\n    rootProps.role = 'none presentation';\n  }\n\n  return children(rootProps, rootElementRef);\n}\n\nMenu.displayName = 'Menu';\nMenu.propTypes = {\n  children: PropTypes.func.isRequired\n};\nexport default Menu;","map":{"version":3,"sources":["/Users/nirajpatel/Desktop/Phase-3-Project/client/node_modules/rsuite/esm/Menu/Menu.js"],"names":["_extends","React","useCallback","useContext","useRef","useMemo","PropTypes","MenuContext","MenuActionTypes","MoveFocusTo","KEY_VALUES","useCustom","useUniqueId","useMenu","useFocus","useClickOutside","isFocusLeaving","isFocusableElement","defaultOpenMenuOn","Menu","props","_items$activeItemInde","disabled","children","_props$openMenuOn","openMenuOn","menuButtonText","renderMenuButton","renderMenuPopup","onToggleMenu","buttonElementRef","menuElementRef","parentMenu","isSubmenu","menu","_menu$","open","items","activeItemIndex","dispatch","_useCustom","rtl","activeItem","element","_useFocus","grabFocus","grab","openMenu","event","type","OpenMenu","isTrusted","MoveFocus","to","First","closeMenu","returnFocusToButton","CloseMenu","None","current","focus","preventScroll","toggleMenu","enabled","isOutside","contains","target","handle","handleButtonKeydown","e","key","ENTER","SPACE","preventDefault","stopPropagation","DOWN","handleButtonClick","handleButtonContextMenu","buttonEventHandlers","onKeyDown","includes","onClick","onContextMenu","buttonId","menuId","buttonAriaAttributes","role","undefined","buttonProps","id","customMenuButton","buttonElement","createElement","ref","handleMenuKeydown","UP","Prev","Next","RIGHT","getAttribute","click","LEFT","HOME","END","Last","ESC","handleMenuClick","menuAriaAttributes","menuEventHandlers","menuProps","tabIndex","customMenuPopup","menuElement","hidden","handleMouseEnter","handleMouseLeave","rootElementRef","handleContainerBlur","rootEventHandlers","onBlur","onMouseEnter","onMouseLeave","rootProps","Fragment","Provider","value","displayName","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { useCallback, useContext, useRef, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuContext, { MenuActionTypes, MoveFocusTo } from './MenuContext';\nimport { KEY_VALUES, useCustom } from '../utils';\nimport useUniqueId from '../utils/useUniqueId';\nimport useMenu from './useMenu';\nimport useFocus from '../utils/useFocus';\nimport useClickOutside from '../utils/useClickOutside';\nimport { isFocusLeaving } from '../utils/events';\nimport { isFocusableElement } from '../utils/dom';\nvar defaultOpenMenuOn = ['click'];\n/**\n * Headless ARIA `menu`\n */\n\nfunction Menu(props) {\n  var _items$activeItemInde;\n\n  var disabled = props.disabled,\n      children = props.children,\n      _props$openMenuOn = props.openMenuOn,\n      openMenuOn = _props$openMenuOn === void 0 ? defaultOpenMenuOn : _props$openMenuOn,\n      menuButtonText = props.menuButtonText,\n      renderMenuButton = props.renderMenuButton,\n      renderMenuPopup = props.renderMenuPopup,\n      onToggleMenu = props.onToggleMenu;\n  var buttonElementRef = useRef();\n  var menuElementRef = useRef();\n  var parentMenu = useContext(MenuContext);\n  var isSubmenu = !!parentMenu;\n  var menu = useMenu();\n  var _menu$ = menu[0],\n      open = _menu$.open,\n      items = _menu$.items,\n      activeItemIndex = _menu$.activeItemIndex,\n      dispatch = menu[1];\n\n  var _useCustom = useCustom('Menu'),\n      rtl = _useCustom.rtl;\n\n  var activeItem = (_items$activeItemInde = items[activeItemIndex]) === null || _items$activeItemInde === void 0 ? void 0 : _items$activeItemInde.element;\n\n  var _useFocus = useFocus(menuElementRef),\n      grabFocus = _useFocus.grab;\n\n  var openMenu = useCallback(function (event) {\n    dispatch({\n      type: MenuActionTypes.OpenMenu\n    });\n\n    if (!event.isTrusted) {\n      dispatch({\n        type: MenuActionTypes.MoveFocus,\n        to: MoveFocusTo.First\n      });\n    }\n\n    onToggleMenu === null || onToggleMenu === void 0 ? void 0 : onToggleMenu(true, event);\n    grabFocus();\n  }, [dispatch, onToggleMenu, grabFocus]);\n  var closeMenu = useCallback(function (event, returnFocusToButton) {\n    if (returnFocusToButton === void 0) {\n      returnFocusToButton = true;\n    }\n\n    dispatch({\n      type: MenuActionTypes.CloseMenu\n    });\n    dispatch({\n      type: MenuActionTypes.MoveFocus,\n      to: MoveFocusTo.None\n    });\n    onToggleMenu === null || onToggleMenu === void 0 ? void 0 : onToggleMenu(false, event);\n\n    if (returnFocusToButton) {\n      buttonElementRef.current.focus({\n        preventScroll: true\n      });\n    }\n  }, [dispatch, onToggleMenu, buttonElementRef]);\n  var toggleMenu = useCallback(function (event) {\n    if (!open) {\n      openMenu(event);\n    } else {\n      closeMenu(event);\n    }\n  }, [open, openMenu, closeMenu]);\n  useClickOutside({\n    enabled: open,\n    isOutside: function isOutside(event) {\n      return !buttonElementRef.current.contains(event.target) && !menuElementRef.current.contains(event.target);\n    },\n    // fixme if clicking on a focusable element, don't move focus to menu button\n    handle: function handle(event) {\n      return closeMenu(event, !isFocusableElement(event.target));\n    }\n  });\n  /**\n   * Keyboard interaction on menu button\n   * @see https://www.w3.org/TR/wai-aria-practices-1.2/#keyboard-interaction-13\n   */\n\n  var handleButtonKeydown = useCallback(function (e) {\n    switch (e.key) {\n      // Open the menu\n      case KEY_VALUES.ENTER:\n      case KEY_VALUES.SPACE:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!open) {\n          openMenu(e);\n          dispatch({\n            type: MenuActionTypes.MoveFocus,\n            to: MoveFocusTo.First\n          });\n        } else {\n          closeMenu(e);\n        }\n\n        break;\n      // Open the menu (if closed) and move focus to first item\n      // This is mostly useful after opening the menu with click\n\n      case KEY_VALUES.DOWN:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!open) {\n          openMenu(e);\n        }\n\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n        break;\n    }\n  }, [open, openMenu, closeMenu, dispatch]);\n  var handleButtonClick = useCallback(function (event) {\n    if (disabled) {\n      return;\n    }\n\n    toggleMenu(event);\n  }, [disabled, toggleMenu]);\n  var handleButtonContextMenu = useCallback(function (event) {\n    // prevents default contextmenu\n    event.preventDefault(); // Only opens menu on right click. Left click can close the menu opened by a right click\n\n    if (open) return;\n    if (disabled) return;\n    openMenu(event);\n  }, [open, disabled, openMenu]);\n  var buttonEventHandlers = useMemo(function () {\n    var buttonEventHandlers = {\n      onKeyDown: handleButtonKeydown\n    };\n    /**\n     * Bind event of trigger,\n     * not used in  in the expanded state of '<Sidenav>'\n     */\n\n    if (openMenuOn !== null && openMenuOn !== void 0 && openMenuOn.includes('click')) {\n      buttonEventHandlers.onClick = handleButtonClick;\n    }\n\n    if (openMenuOn !== null && openMenuOn !== void 0 && openMenuOn.includes('contextmenu')) {\n      buttonEventHandlers.onContextMenu = handleButtonContextMenu;\n    }\n\n    return buttonEventHandlers;\n  }, [openMenuOn, handleButtonKeydown, handleButtonClick, handleButtonContextMenu]);\n  var buttonId = useUniqueId('menubutton-');\n  var menuId = useUniqueId('menu-');\n  var buttonAriaAttributes = useMemo(function () {\n    // Ref: https://www.w3.org/TR/wai-aria-practices-1.2/#wai-aria-roles-states-and-properties-14\n    return {\n      role: 'button',\n      'aria-haspopup': 'menu',\n      'aria-expanded': open || undefined,\n      // it's recommend to remove aria-expanded when menu is hidden\n      'aria-controls': menuId\n    };\n  }, [open, menuId]);\n  var buttonProps = useMemo(function () {\n    return _extends({\n      id: buttonId\n    }, buttonAriaAttributes, buttonEventHandlers, {\n      // render props\n      open: open\n    });\n  }, [buttonId, buttonAriaAttributes, buttonEventHandlers, open]);\n  var customMenuButton = useMemo(function () {\n    return renderMenuButton === null || renderMenuButton === void 0 ? void 0 : renderMenuButton(buttonProps, buttonElementRef);\n  }, [renderMenuButton, buttonProps, buttonElementRef]);\n  var buttonElement = customMenuButton !== null && customMenuButton !== void 0 ? customMenuButton : /*#__PURE__*/React.createElement(\"button\", _extends({\n    ref: buttonElementRef\n  }, buttonProps), menuButtonText);\n  /**\n   * Keyboard interaction on menu\n   * @see https://www.w3.org/TR/wai-aria-practices-1.2/#keyboard-interaction-12\n   */\n\n  var handleMenuKeydown = useCallback(function (e) {\n    switch (e.key) {\n      // Move focus to previous item\n      case KEY_VALUES.UP:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Prev\n        });\n        break;\n      // Move focus to next item\n\n      case KEY_VALUES.DOWN:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Next\n        });\n        break;\n      // When focus is in a menu and on a menuitem that has a submenu, opens the submenu and places focus on its first item.\n\n      case KEY_VALUES.RIGHT:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!rtl) {\n          if ((activeItem === null || activeItem === void 0 ? void 0 : activeItem.getAttribute('aria-haspopup')) === 'menu') {\n            activeItem.click();\n          }\n        } else if (isSubmenu) {\n          dispatch({\n            type: MenuActionTypes.CloseMenu\n          });\n        }\n\n        break;\n      // When focus is in a submenu of an item in a menu, closes the submenu and returns focus to the parent menuitem.\n\n      case KEY_VALUES.LEFT:\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!rtl) {\n          if (isSubmenu) {\n            closeMenu(e);\n          }\n        } else if ((activeItem === null || activeItem === void 0 ? void 0 : activeItem.getAttribute('aria-haspopup')) === 'menu') {\n          activeItem.click();\n        }\n\n        break;\n      // Move focus to the first item\n\n      case KEY_VALUES.HOME:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.First\n        });\n        break;\n      // Move focus to the last item\n\n      case KEY_VALUES.END:\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch({\n          type: MenuActionTypes.MoveFocus,\n          to: MoveFocusTo.Last\n        });\n        break;\n      // - When focus is on a menuitem that has a submenu, opens the submenu and places focus on its first item.\n      // - Otherwise, activates the item and closes the menu.\n\n      case KEY_VALUES.ENTER:\n      case KEY_VALUES.SPACE:\n        if (activeItem) {\n          e.preventDefault();\n          e.stopPropagation();\n          activeItem.click();\n\n          if (!activeItem.getAttribute('aria-haspopup')) {\n            closeMenu(e);\n          }\n        }\n\n        break;\n      //  Close the menu that contains focus and return focus to the element or context,\n      //  e.g., menu button or parent menuitem, from which the menu was opened.\n\n      case KEY_VALUES.ESC:\n        closeMenu(e);\n        break;\n    }\n  }, [dispatch, activeItem, isSubmenu, rtl, closeMenu]); // Only used for clicks bubbling from child `menuitem`s.\n\n  var handleMenuClick = useCallback(function (event) {\n    var target = event.target; // Only handle clicks on `menuitem`s\n\n    if (target.getAttribute('role') !== 'menuitem') return; // Ignore clicks on `menuitem`s that controls a submenu\n\n    if (target.getAttribute('aria-haspopup') === 'menu') return; // Ignore disabled `menuitem`s\n\n    if (target.getAttribute('aria-disabled') === 'true') return;\n    closeMenu(event, !isSubmenu);\n  }, [closeMenu, isSubmenu]); // Ref: https://www.w3.org/TR/wai-aria-practices-1.2/#wai-aria-roles-states-and-properties-13\n\n  var menuAriaAttributes = {\n    role: 'menu',\n    'aria-labelledby': buttonId,\n    'aria-activedescendant': activeItem === null || activeItem === void 0 ? void 0 : activeItem.id\n  };\n  var menuEventHandlers = {\n    onClick: handleMenuClick,\n    onKeyDown: handleMenuKeydown\n  };\n\n  var menuProps = _extends({\n    id: menuId\n  }, menuAriaAttributes, menuEventHandlers, {\n    tabIndex: 0\n  });\n\n  var customMenuPopup = renderMenuPopup === null || renderMenuPopup === void 0 ? void 0 : renderMenuPopup(_extends({}, menuProps, {\n    open: open\n  }), menuElementRef);\n  var menuElement = customMenuPopup !== null && customMenuPopup !== void 0 ? customMenuPopup : /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: menuElementRef\n  }, menuProps, {\n    hidden: !open\n  }), children);\n  var handleMouseEnter = useCallback(function (e) {\n    if (!disabled) {\n      openMenu(e);\n    }\n  }, [disabled, openMenu]);\n  var handleMouseLeave = useCallback(function (e) {\n    if (!disabled) {\n      closeMenu(e);\n    }\n  }, [disabled, closeMenu]);\n  var rootElementRef = useRef();\n  var handleContainerBlur = useCallback(function (event) {\n    if (isFocusLeaving(event)) {\n      closeMenu(event, false);\n    }\n  }, [closeMenu]);\n  var rootEventHandlers = {\n    onBlur: handleContainerBlur\n  };\n\n  if (openMenuOn !== null && openMenuOn !== void 0 && openMenuOn.includes('mouseover')) {\n    rootEventHandlers.onMouseEnter = handleMouseEnter;\n    rootEventHandlers.onMouseLeave = handleMouseLeave;\n  }\n\n  var rootProps = _extends({}, rootEventHandlers, {\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, buttonElement, /*#__PURE__*/React.createElement(MenuContext.Provider, {\n      value: menu\n    }, menuElement)),\n    // render props\n    open: open\n  });\n\n  if (isSubmenu) {\n    rootProps.role = 'none presentation';\n  }\n\n  return children(rootProps, rootElementRef);\n}\n\nMenu.displayName = 'Menu';\nMenu.propTypes = {\n  children: PropTypes.func.isRequired\n};\nexport default Menu;"]},"metadata":{},"sourceType":"module"}